<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabela Din√¢mica com HTML, CSS e JS</title>
    <style>
        /* Estilos da tabela */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table td, table th {
            border: 1px solid #ddd;
            padding: 8px;
        }
        table th {
            background-color: #f4f4f4;
            text-align: left;
        }
        table td {
            max-width: 150px; /* Define um tamanho m√°ximo para a c√©lula */
            white-space: nowrap; /* Impede que o texto quebre em v√°rias linhas */
            overflow: hidden; /* Esconde o texto que ultrapassa o tamanho da c√©lula */
            text-overflow: ellipsis; /* Adiciona "..." ao final do texto truncado */
        }
        .acoes button {
            background: none;
            border: none;
            cursor: pointer;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <h1>Tabela Din√¢mica</h1>
    <table id="tabela-dados">
        <thead>
            <tr>
                <th>ID</th>
                <th>Data</th>
                <th>Tipo de Entrada</th>
                <th>Descri√ß√£o</th>
                <th>Forma de Pagamento</th>
                <th>Valor</th>
                <th>Anexo</th>
                <th>Data/Hora Envio</th>
                <th>A√ß√µes</th>
            </tr>
        </thead>
        <tbody>
            <!-- Os dados ser√£o inseridos aqui dinamicamente -->
        </tbody>
    </table>

    <script>
        // Dados simulados (substitua por dados reais se necess√°rio)
        const dados = [
            {
                id: 1,
                data: '2023-10-01',
                tipo_entrada: 'Consulta',
                descricao: 'Descri√ß√£o do servi√ßo prestado ao cliente X.',
                forma_pagamento: 'Dinheiro',
                valor: 100.50,
                anexo: 'arquivo.pdf',
                data_hora_envio: '2023-10-01T10:00:00'
            },
            {
                id: 2,
                data: '2023-10-02',
                tipo_entrada: 'Revis√£o',
                descricao: 'Revis√£o completa do ve√≠culo Y.',
                forma_pagamento: 'Cart√£o de Cr√©dito',
                valor: 250.00,
                anexo: '',
                data_hora_envio: '2023-10-02T14:30:00'
            },
            {
                id: 3,
                data: '2023-10-03',
                tipo_entrada: 'Retorno',
                descricao: 'Retorno para verifica√ß√£o do servi√ßo realizado.',
                forma_pagamento: 'Pix',
                valor: 0.00,
                anexo: 'foto.jpg',
                data_hora_envio: '2023-10-03T09:15:00'
            }
        ];

        // Fun√ß√£o para formatar data (dd/mm/aaaa)
        function formatarData(data) {
            const [ano, mes, dia] = data.split('-');
            return `${dia}/${mes}/${ano}`;
        }

        // Fun√ß√£o para formatar data e hora (dd/mm/aaaa hh:mm)
        function formatarDataHora(dataHora) {
            const data = new Date(dataHora);
            const dia = String(data.getDate()).padStart(2, '0');
            const mes = String(data.getMonth() + 1).padStart(2, '0');
            const ano = data.getFullYear();
            const hora = String(data.getHours()).padStart(2, '0');
            const minutos = String(data.getMinutes()).padStart(2, '0');
            return `${dia}/${mes}/${ano} ${hora}:${minutos}`;
        }

        // Fun√ß√£o para preencher a tabela com os dados
        function preencherTabela() {
            const tbody = document.querySelector('#tabela-dados tbody');
            tbody.innerHTML = ''; // Limpa o conte√∫do atual

            dados.forEach(item => {
                const row = `
                    <tr>
                        <td>${item.id}</td>
                        <td>${formatarData(item.data)}</td>
                        <td>${item.tipo_entrada}</td>
                        <td>${item.descricao}</td>
                        <td>${item.forma_pagamento}</td>
                        <td>R$ ${item.valor.toFixed(2)}</td>
                        <td>${item.anexo || 'Nenhum'}</td>
                        <td>${formatarDataHora(item.data_hora_envio)}</td>
                        <td class="acoes">
                            <button onclick="editarLinha(${item.id})">
                                <i class="bi bi-pen-fill text-warning">‚úèÔ∏è</i>
                            </button>
                            <button onclick="excluirLinha(${item.id})">
                                <i class="bi bi-trash-fill text-danger">üóëÔ∏è</i>
                            </button>
                        </td>
                    </tr>
                `;
                tbody.insertAdjacentHTML('beforeend', row);
            });
        }

        // Fun√ß√£o para editar uma linha (simula√ß√£o)
        function editarLinha(id) {
            alert(`Editar linha com ID ${id}`);
            // Aqui voc√™ pode abrir um modal ou formul√°rio para editar os dados
        }

        // Fun√ß√£o para excluir uma linha (simula√ß√£o)
        function excluirLinha(id) {
            const confirmacao = confirm(`Tem certeza que deseja excluir a linha com ID ${id}?`);
            if (confirmacao) {
                const index = dados.findIndex(item => item.id === id);
                if (index !== -1) {
                    dados.splice(index, 1); // Remove o item do array
                    preencherTabela(); // Atualiza a tabela
                }
            }
        }

        // Preenche a tabela ao carregar a p√°gina
        window.onload = preencherTabela;
    </script>
</body>
</html>